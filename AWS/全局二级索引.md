##全局二级索引 <=5

####20个用户指定的投影属性

####一种可能带有与表中不同的分区键和排序键的索引

- Indexstatus:
   - creating
   - active 只有这个状态可以执行query和scan操作
   - deleting
   - updating 每个update操作只能创建一个全局二级索
- backfilling
  - true （indexstatus: creating,）此时不能删除和添加其他索引，回填期间可以用updatetable来更新预置吞吐量参数以加快索引的构建
  - false



## 本地二级索引 <=5 

#####每个基表分区键关联的集合最大为10GB

##### 一种分区键与表相同但是排序键不同的索引

####至少将键属性投影到二级索引

####20个用户指定的投影属性

- 分区键与其基表分区键相同，排序键可以不一样
  - 另外排序键如果作为query的过滤参数则先过滤再返回结果，否则先返回结果再过滤。
  - 排序键仅由标量属性即SNB组成，不能是文档或集合。
  - 基表的排序键投影到索引中，在其中作非键属性
  - ​

### 核心组件

- 表（表名+主键（分区键|分区&&排序键））
  - eg：主键：歌手+歌名|身份证
  - 主键唯一
  - 数据的的集合
  - 对于每个账户，每个区域初始化有256张表
- 项目 上限为400kb
- 属性

###命名规则和数据类型

- 标量 SNB，bool，null
- 文档类 深度最多为32
  - 列表（JSON数组
  - 映射（JSON对象
  - 限制400kb
  - 不支持空字符串或空集，但是可以是空列表和映射
- 集合类
  - 一个集合内所有元素都是同一类型
  - 限制400kb
  - 无顺序 不支持空集

每个主键属性必须为SNB



简单的主键 ，分区键属性值最大为2048字节，2M

符合的主键，排序键属性值最大为1024字节，1M

